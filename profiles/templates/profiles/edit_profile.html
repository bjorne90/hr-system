{% extends 'base.html' %}

{% block content %}
  <div class="profile">
    <h2>Edit Profile</h2>
    {% if request.user.is_authenticated %}
    <form method="POST" action="{% url 'profiles:edit_profile' %}" enctype="multipart/form-data">
      {% csrf_token %}
      <label for="phone_number">Phone Number:</label>
      <input type="text" name="phone_number" value="{{ profile.phone_number }}" required><br>
      <label for="email">Email:</label>
      <input type="email" name="email" value="{{ profile.user.email }}" required><br>
      <label for="password">Password:</label>
      <input type="password" name="password" required><br>
      <label for="confirm_password">Confirm Password:</label>
      <input type="password" name="confirm_password" required><br>
      <label for="about_me">About Me:</label>
      <textarea name="about_me" rows="4" maxlength="400">{{ profile.about_me }}</textarea><br>
      <label for="profile_image">Profile Image:</label>
      <input type="file" name="profile_image"><br>
      <button type="submit">Save Changes</button>
    </form>
    {% else %}
    <p>You need to be logged in to edit your profile.</p>
    {% endif %}
  </div>
{% endblock %}
